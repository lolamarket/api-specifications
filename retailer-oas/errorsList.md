# Retailer API errors list

## Error code list
List of possible `errorCode` values in response and reasons.

| Error code                            | Http exception | Http status code | Message                                                 | Details               |
| ------------------------------------- | -------------- | ---------------- | ------------------------------------------------------- | --------------------- |
| `ORDER.NOT_FOUND`                     | NotFound       | 404              | Order does not exist                                    | `optional details`    |
| `ORDER.RESCHEDULE.CONFLICT`           | Conflict       | 409              | Order cannot be rescheduled                             | `optional details`    |
| `RESERVATION.EXISTS`                  | Conflict       | 409              | Reservation already exists                              | `optional details`    |
| `RESERVATION.NOT_FOUND`               | NotFound       | 404              | Reservation does not exist                              | `optional details`    |
| `RESERVATION.STATUS.CONFLICT`         | Conflict       | 409              | Reservation status cannot be changed                    | `optional details`    |
| `SHOPPER.NOT_FOUND`                   | NotFound       | 404              | Shopper does not exist                                  | `optional details`    |
| `TIMESLOT.NOT_FOUND`                  | NotFound       | 404              | Timestlot does not exist                                | `optional details`    |
| `TIMESLOT.NOT_AVAILABLE`              | Conflict       | 409              | Timeslot is not available                               | `optional details`    |
| `PARAMETER.INVALID`                   | BadRequest     | 400              | Key or/and value is missing                             | `optional details`    |
| `ORDER.ARTICLES_AGGREGATION.FAILED`   | BadRequest     | 400              | Order article aggregation failed: product(s) is missing | `optional details`    |
| `SLOT.VALIDATION_FAILED`              | BadRequest     | 400              | Slot validation failed                                  | `optional details`    |
| `REASON.NOT_FOUND`                    | NotFound       | 404              | Reason does not exist                                   | `optional details`    |
| `ORDER.INVALID_STATUS`                | BadRequest     | 400              | Order status is not valid                               | `optional details`    |
| `PARAMETER.NOT_FOUND`                 | BadRequest     | 404              | Parameter does not exist                                | `optional details`    |
| `FILTER.INVALID`                      | BadRequest     | 400              | Invalid Filter arguments                                | `optional details`    |
| `GEOCOORDINATES.INVALID`              | BadRequest     | 400              | GeoCoordinates is invalid                               | `optional details`    |
| `ADDRESS.FAILED_GEOLOCALIZATION`      | BadRequest     | 400              | Failed to geolocate address. Try another address        | `optional details`    |
| `ORDER.ILEGAL_STATUS_TRANSITION`      | MethodNotAllowed | 405            | Status transition is not permitted                      | `optional details`    |

## Requests list
| Endpoint                 | Url                                                                                   | Method | Returned Error or Exception       | Validations                                                                                                                                                                                                                                                                                                                                                                                                 | Cause                                                         | HttpStatus |
| ------------------------ | ------------------------------------------------------------------------------------- | ------ | --------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- | ---------- |
| \*                       | any                                                                                   | any    | Unauthorized                      |                                                                                                                                                                                                                                                                                                                                                                                                             | no valid token                                                | 401        |
| **Auth**                 |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| auth                     | oauth/token                                                                           | POST   | Forbidden                         | Grant type is invalid                                                                                                                                                                                                                                                                                                                                                                                       |                                                               | 403        |
| auth                     | oauth/token                                                                           | POST   | Unauthorized                      | Bad clientSecret or clientId                                                                                                                                                                                                                                                                                                                                                                                |                                                               | 401        |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| **Service-availability** |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| service-availability     | /service-availability?postalCode=&countryCode=                                        | GET    | NOT FOUND                         | Service not available for the given postal code and country code                                                                                                                                                                                                                                                                                                                                            |                                                               | 404        |
| service-availability     | /service-availability?postalCode=&countryCode=                                        | POST   | 405 Method Not Allowed            | 405 method not allowed                                                                                                                                                                                                                                                                                                                                                                                      |                                                               | 405        |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| **Timeslots**            |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| timeslots                | /timeslots?pickingLocationId=[filter]&fromDate=[filter]&toDate=[filter]&quantity=1000 | GET    | Bad Request / BadRequestException | retailerPickingLocationId must be a string                                                                                                                                                                                                                                                                                                                                                                  |                                                               | 400        |
| timeslots                | /timeslots?pickingLocationId=[filter]&fromDate=[filter]&toDate=[filter]&quantity=1001 | GET    | Bad Request / BadRequestException | startDatetime must be a valid ISO 8601 date string                                                                                                                                                                                                                                                                                                                                                          |                                                               | 400        |
| timeslots                | /timeslots?pickingLocationId=[filter]&fromDate=[filter]&toDate=[filter]&quantity=1002 | GET    | Bad Request / BadRequestException | endDatetime must be a valid ISO 8601 date string                                                                                                                                                                                                                                                                                                                                                            |                                                               | 400        |
| timeslots                | /timeslots/                                                                           | GET    | BadRequestException               | quantity must not be less than 1                                                                                                                                                                                                                                                                                                                                                                            |                                                               | 400        |
| timeslots                | /timeslots/                                                                           | GET    | BadRequestException               | Picking Location with Company ID 7989s not found.                                                                                                                                                                                                                                                                                                                                                           |                                                               | 400        |
| timeslots                | /timeslots/                                                                           | POST   | Method not Allowed                | 405 method not allowed                                                                                                                                                                                                                                                                                                                                                                                      |                                                               | 405        |
| timeslots                | /timeslots/                                                                           | GET    | BadRequestException               | Start date 2023-09-01T14:08:02.000Z cannot be in the past.                                                                                                                                                                                                                                                                                                                                                  |                                                               | 400        |
| timeslots                | /timeslots/                                                                           | GET    | Internal Server Error             | You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1e+23                                                                                                                                                                                                                                                                |                                                               | 500        |
|                          |                                                                                       | GET    | False 200                         | toDate < fromDate                                                                                                                                                                                                                                                                                                                                                                                           |                                                               | 200        |
| timeslots                | /timeslots/:id                                                                        | GET    | HttpException                     | NotFoundException                                                                                                                                                                                                                                                                                                                                                                                           |                                                               | 404        |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| **Reservations**         |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| reservations             | /reservations                                                                         | POST   | BadRequestException               | Corresponding timeslot not found                                                                                                                                                                                                                                                                                                                                                                            |                                                               | 400        |
| reservations             | /reservations                                                                         | POST   | Validation Failed                 | email must be an email                                                                                                                                                                                                                                                                                                                                                                                      | 64@255 = 320 chars                                            | 400        |
| reservations             | /reservations                                                                         | POST   | Validation Failed                 | id must be a string                                                                                                                                                                                                                                                                                                                                                                                         |                                                               | 400        |
| reservations             | /reservations                                                                         | POST   | Validation Failed                 | name must be a string                                                                                                                                                                                                                                                                                                                                                                                       |                                                               | 400        |
| reservations             | /reservations                                                                         | POST   | Validation Failed                 | phone must be shorter than or equal to 15 characters                                                                                                                                                                                                                                                                                                                                                        | <=15 chars                                                    | 400        |
| reservations             | /reservations                                                                         | POST   | Validation Failed                 | phone must be a string                                                                                                                                                                                                                                                                                                                                                                                      |                                                               | 400        |
| reservations             | /reservations                                                                         | POST   | Forbidden                         | id, name > 7999 chars                                                                                                                                                                                                                                                                                                                                                                                       |                                                               | 403        |
| reservations             | /reservations                                                                         | POST   | Validation Failed                 | customerInfo: customerInfo must be an object                                                                                                                                                                                                                                                                                                                                                                |                                                               | 400        |
| reservations             | /reservations                                                                         | POST   | Validation Failed                 | customerInfo: nested property customerInfo must be either object or array                                                                                                                                                                                                                                                                                                                                   |                                                               | 400        |
| reservations             | /reservations/:id/cancel                                                              | POST   | Bad Request / Validation Failed   | code: code must be one of the following values: CUSTOMER_DRIVEN, OMS_DRIVEN, RETAILER_DRIVEN, OTHER                                                                                                                                                                                                                                                                                                         |                                                               | 400        |
| reservations             | /reservations/:id/cancel                                                              | POST   | Bad Request / Validation Failed   | type: type must be one of the following values: payment failed, fraudulent customer, incorrect customer information, customer requested to cancel, too many out of stock items, system error, other, unknown                                                                                                                                                                                                |                                                               | 400        |
| reservations             | /reservations/:id                                                                     | POST   | NOT FOUND                         | The corresponding reservation not found                                                                                                                                                                                                                                                                                                                                                                     |                                                               | 404        |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
|                          |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| **Orders**               |                                                                                       |        |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| orders                   | /orders?                                                                              | GET    | Bad Request                       | Invalid Filter arguments                                                                                                                                                                                                                                                                                                                                                                                    |                                                               | 400        |
| orders                   | /orders/:id                                                                           | GET    | Not Found                         | Order not found                                                                                                                                                                                                                                                                                                                                                                                             |                                                               | 404        |
| orders                   | /orders?                                                                              | GET    |                                   | page and limit can be both strings or numbers, also negative                                                                                                                                                                                                                                                                                                                                                |                                                               | 200        |
| orders                   | /orders?                                                                              | GET    | BadRequestException               | Validation failed (numeric string is expected) / page, limit fields                                                                                                                                                                                                                                                                                                                                         |                                                               | 400        |
| orders                   | /orders?                                                                              | GET    | BadRequestException               | The FilterOperator == is invalid                                                                                                                                                                                                                                                                                                                                                                            |                                                               | 400        |
| orders                   |                                                                                       | GET    | Interval server error             | Property \"statuss\" was not found in \"OrderEntity\". Make sure your query is correct.                                                                                                                                                                                                                                                                                                                     |                                                               | 500        |
| orders                   | /orders                                                                               | POST   | BadRequestException               | orderRef must be a string                                                                                                                                                                                                                                                                                                                                                                                   |                                                               | 400        |
| orders                   | /orders                                                                               | POST   |                                   | orderRef can be any string?                                                                                                                                                                                                                                                                                                                                                                                 |                                                               | 200        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | articles should not be empty                                                                                                                                                                                                                                                                                                                                                                                |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | articles must be an array                                                                                                                                                                                                                                                                                                                                                                                   |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | customer must be an object                                                                                                                                                                                                                                                                                                                                                                                  |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | billingInfo must be an object                                                                                                                                                                                                                                                                                                                                                                               |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | preferences must be an object                                                                                                                                                                                                                                                                                                                                                                               |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | shippingAddress must be an object                                                                                                                                                                                                                                                                                                                                                                           |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | timeslotId must be a UUID                                                                                                                                                                                                                                                                                                                                                                                   |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | totals must be an object                                                                                                                                                                                                                                                                                                                                                                                    |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad request                       | Order article aggregation failed: product(s) is missing                                                                                                                                                                                                                                                                                                                                                     |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad request                       | Slot Validation Error                                                                                                                                                                                                                                                                                                                                                                                       | Slot validation failed for this reasons: timeslot unavailable | 400        |
| orders                   | /orders                                                                               | POST   | Bad request                       | buyingPrice must be an object                                                                                                                                                                                                                                                                                                                                                                               |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad request                       | buyingPrice.amount: amount must be a number conforming to the specified constraints                                                                                                                                                                                                                                                                                                                         |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | false positive                    | buyingPrice.amount, estimatedWeight, requested.quantity, unitProce.amount can be negative?                                                                                                                                                                                                                                                                                                                  |                                                               | 200        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | estimatedWeight must be a number conforming to the specified constraints                                                                                                                                                                                                                                                                                                                                    |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | false posititve                   | currency field can be any string?                                                                                                                                                                                                                                                                                                                                                                           |                                                               | 200        |
| orders                   | /orders                                                                               | POST   | Bad request                       | currency must be a string                                                                                                                                                                                                                                                                                                                                                                                   |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | replacementType must be one of the following values: SHOPPER_REPLACE, CALL_CUSTOMER, NO_REPLACEMENTS                                                                                                                                                                                                                                                                                                        |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | itemPreferences.note: note must be shorter than or equal to 200 characters                                                                                                                                                                                                                                                                                                                                  |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | note must be a string                                                                                                                                                                                                                                                                                                                                                                                       |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | false positive                    | requested unit can be any string?                                                                                                                                                                                                                                                                                                                                                                           |                                                               | 200        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | requested.unit: unit must be a string                                                                                                                                                                                                                                                                                                                                                                       |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | sku must be a string                                                                                                                                                                                                                                                                                                                                                                                        |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | false positive                    | replacementType can be any value?                                                                                                                                                                                                                                                                                                                                                                           |                                                               | 200        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | vatNumber must be a string                                                                                                                                                                                                                                                                                                                                                                                  |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | false positive                    | can vatNumber any string?                                                                                                                                                                                                                                                                                                                                                                                   |                                                               | 200        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | billingInfo.address: address must be shorter than or equal to 200 characters; billingInfo.address: address must be a string; billingInfo.name: Only one field from name,companyName is allowed                                                                                                                                                                                                              |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | billingInfo.companyName: companyName must be shorter than or equal to 200 characters", "billingInfo.companyName: companyName must be a string", "billingInfo.companyName: Only one field from name,companyName is allowed                                                                                                                                                                                   |                                                               | 400        |
| orders                   | /orders                                                                               | POST   | false posititve                   | postalCode can be any string?                                                                                                                                                                                                                                                                                                                                                                               |                                                               | 200        |
| orders                   | /orders                                                                               | POST   | Bad Request / Validation Failed   | "shippingAddress.coords.lat: lat must be a latitude string or number", "shippingAddress.coords.lat: lat must be a number conforming to the specified constraints", "shippingAddress.coords.lon: lon must be a number conforming to the specified constraints", "shippingAddress.coords.lon: lon must be a longitude string or number"                                                                       |                                                               | 400        |
| orders                   | /orders                                                                               | POST   |                                   |                                                                                                                                                                                                                                                                                                                                                                                                             |                                                               |            |
| orders                   | /orders/:id/cancel                                                                    | POST   | Bad request / Validation Failed   | reason: reason must be an object                                                                                                                                                                                                                                                                                                                                                                            |                                                               | 400        |
| orders                   | /orders/:id/cancel                                                                    | POST   | Bad request / Validation Failed   | reason.code: code must be one of the following values: CUSTOMER_DRIVEN, OMS_DRIVEN, RETAILER_DRIVEN, SHOPPER_DRIVEN, OTHER                                                                                                                                                                                                                                                                                  |                                                               | 400        |
| orders                   | /orders/:id/cancel                                                                    | POST   | Bad request / Validation Failed   | reason.type: type must be one of the following values: duplicate order, customer requested since order is early, customer requested since order is late, customer is unavailable, customer requested to cancel, shopper unable to complete order, shopper could not find address, too many out of stock items, canceled by retailer, fraudulent customer, store early closure, system error, other, unknown |                                                               | 400        |
| orders                   | /orders/:id/cancel                                                                    | POST   | Not Found                         | Order not found                                                                                                                                                                                                                                                                                                                                                                                             |                                                               | 404        |
